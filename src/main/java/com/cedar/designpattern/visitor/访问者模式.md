访问者模式

基本介绍

1. 访问者模式（Visitor Pattern），对于一组对象，在不改变数据结构的前提下，增加作用于这些结构元素新的功能。
2. 访问者模式主要应用场景：适用于数据结构相对稳定，它把数据结构和作用于其上的操作解耦，使得操作集合可以相对自由的演化。



注意事项和细节

1. 优点
   + 符合单一职责原则，体现在每一个访问者只实现一个功能
   + 扩展性良好
   + 有益于系统的管理和维护
2. 缺点
   + 具体元素对访问者公布细节，也就是说访问者关注了其他类的内部细节，这是迪米特法则所不建议的，这样造成了具体元素变更起来比较困难
   + 违背了依赖倒转原则。访问者依赖的是具体元素，而不是抽象元素
   + 修改元素类变得很困难，体现在对元素类中成员变量的增删，直接导致访问者算法的改动
3. 如果一个系统有比较稳定的数据结构，又有经常变化的功能需求，那么访问者模式旧比较合适

