适配器模式基本介绍

1. 适配器模式（Adapter Pattern）将一个类的接口，转换成客户期望的另一个接口。适配器让原本接口不兼容的类可以合作无间。
2. 适配器模式属于结构型模式
3. 主要分为三类：类适配器模式、对象适配器模式、接口适配器模式



适配器模式工作原理

1. 适配器模式将一个类的接口转换成另一种接口，让原本接口不兼容的类可以兼容
2. 从用户的角度看不到被适配者，是解耦的
3. 用户调用适配器转化出来的目标接口方法，适配器再调用被适配者的相关接口方法
4. 用户收到反馈结果，感觉只是和目标接口交互



类适配器模式

基本介绍

Adapter类，通过继承src类，实现dst类接口，完成 src->dst 的适配

应用实例

以生活中充电器的例子来讲解适配器，充电器本身相当于Adapter，220V交流电相当于src（被适配器），dst（目标）是5V直流电

注意事项和细节

1. Java是单继承机制，所以类适配器需要继承src类这一点算是一个缺点，因为这要求dst必须是接口，有一定局限性
2. src类的方法在Adapter中都会暴露出来，也增加了适用的成本
3. 由于其继承了src类，所以它可以根据需求重写src类的方法，使得Adapter的灵活性增强了



对象适配器模式

1. 基本思路和类适配器模式相同，只是将Adapter类做修改：不再继承src类，而是持有src类的实例。通过持有src类，实现dst接口，来完成src->dst的适配
2. 根据“合成复用原则”，在系统中尽量使用关联关系来替代继承关系
3. 对象适配器模式是适配器模式常用的一种

应用实例

充电器适配器

注意事项和细节

1. 对象适配器和类适配器其实算是同一种思想，只不过实现方式不同

   根据合成复用原则，适用组合替代继承，所以它解决了类适配器必须继承src的局限性问题，也不再要求dst必须是接口

2. 适用成本更低，更灵活



接口适配器模式

1. 一些书中称之为：适配器模式（Default Adapter Pattern）或缺省适配器模式
2. 当不需要全部实现接口提供的方法时，可先设计一个抽象类实现接口，并为该接口中每个方法提供一个默认实现（空方法），那么该抽象类的子类可有选择地覆盖父类的某些方法来实现需求
3. 适用于一个接口不想使用其所有方法的情况



适配器模式的注意事项和细节

1. 三中明明方式，根据src是以怎样的形式给到Adapter来命名

   类适配器：以类给到，在Adapter中，就是将src当做父类继承

   对象适配器：以对象给到，在Adapter中，就是将src当做成员变量持有

   接口适配器：以接口给到，在Adapter中，就是将src当做接口实现

2. Adapter模式最大的作用还是将原本不兼容的接口融合到一起工作

3. 实际开发中，实现起来不拘泥于这三种经典形式

